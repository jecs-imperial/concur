'use strict';

require('juxtapose');

var easy = require('easy');

var client = require('./example/client'),
    Document = require('./example/document'),
    EditableContentTextarea = require('./example/textarea/editableContent');

var Body = easy.Body;


client.initialise(function (content) {
  var body = new Body(),
      editableContent = content,
      ///
  editableContentTextarea = React.createElement(
    EditableContentTextarea,
    { onKeyUp: keyUpHandler },
    editableContent
  ),
      document = Document.fromEditableContentTextarea(editableContentTextarea);

  body.append(React.createElement(
    'section',
    null,
    React.createElement(
      'h1',
      null,
      'Concur example'
    ),
    editableContentTextarea
  ));

  function keyUpHandler() {
    var workingContent = document.getWorkingContent(),
        editableContent = document.getEditableContent();

    var success = client.update(workingContent, editableContent, function (pendingOperations) {
      return document.update(pendingOperations);
    });

    if (success) {
      document.synchroniseWorkingContent();
    }
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2VzNi9leGFtcGxlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJlYXN5IiwiY2xpZW50IiwiRG9jdW1lbnQiLCJFZGl0YWJsZUNvbnRlbnRUZXh0YXJlYSIsIkJvZHkiLCJpbml0aWFsaXNlIiwiY29udGVudCIsImJvZHkiLCJlZGl0YWJsZUNvbnRlbnQiLCJlZGl0YWJsZUNvbnRlbnRUZXh0YXJlYSIsImtleVVwSGFuZGxlciIsImRvY3VtZW50IiwiZnJvbUVkaXRhYmxlQ29udGVudFRleHRhcmVhIiwiYXBwZW5kIiwid29ya2luZ0NvbnRlbnQiLCJnZXRXb3JraW5nQ29udGVudCIsImdldEVkaXRhYmxlQ29udGVudCIsInN1Y2Nlc3MiLCJ1cGRhdGUiLCJwZW5kaW5nT3BlcmF0aW9ucyIsInN5bmNocm9uaXNlV29ya2luZ0NvbnRlbnQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxRQUFRLFdBQVI7O0FBRUEsSUFBTUMsT0FBT0QsUUFBUSxNQUFSLENBQWI7O0FBRUEsSUFBTUUsU0FBU0YsUUFBUSxrQkFBUixDQUFmO0FBQUEsSUFDTUcsV0FBV0gsUUFBUSxvQkFBUixDQURqQjtBQUFBLElBRU1JLDBCQUEwQkosUUFBUSxvQ0FBUixDQUZoQzs7SUFJUUssSSxHQUFTSixJLENBQVRJLEk7OztBQUVSSCxPQUFPSSxVQUFQLENBQWtCLFVBQVNDLE9BQVQsRUFBa0I7QUFDbEMsTUFBTUMsT0FBTyxJQUFJSCxJQUFKLEVBQWI7QUFBQSxNQUNNSSxrQkFBa0JGLE9BRHhCO0FBQUEsTUFDa0M7QUFDNUJHLDRCQUVFO0FBQUMsMkJBQUQ7QUFBQSxNQUF5QixTQUFTQyxZQUFsQztBQUFpREY7QUFBakQsR0FKUjtBQUFBLE1BT01HLFdBQVdULFNBQVNVLDJCQUFULENBQXFDSCx1QkFBckMsQ0FQakI7O0FBU0FGLE9BQUtNLE1BQUwsQ0FFRTtBQUFBO0FBQUE7QUFDRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBREY7QUFFR0o7QUFGSCxHQUZGOztBQVNBLFdBQVNDLFlBQVQsR0FBd0I7QUFDdEIsUUFBTUksaUJBQWlCSCxTQUFTSSxpQkFBVCxFQUF2QjtBQUFBLFFBQ01QLGtCQUFrQkcsU0FBU0ssa0JBQVQsRUFEeEI7O0FBR0EsUUFBTUMsVUFBVWhCLE9BQU9pQixNQUFQLENBQWNKLGNBQWQsRUFBOEJOLGVBQTlCLEVBQStDO0FBQUEsYUFBcUJHLFNBQVNPLE1BQVQsQ0FBZ0JDLGlCQUFoQixDQUFyQjtBQUFBLEtBQS9DLENBQWhCOztBQUVBLFFBQUlGLE9BQUosRUFBYTtBQUNYTixlQUFTUyx5QkFBVDtBQUNEO0FBQ0Y7QUFDRixDQTdCRCIsImZpbGUiOiJleGFtcGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCdqdXh0YXBvc2UnKTtcblxuY29uc3QgZWFzeSA9IHJlcXVpcmUoJ2Vhc3knKTtcblxuY29uc3QgY2xpZW50ID0gcmVxdWlyZSgnLi9leGFtcGxlL2NsaWVudCcpLFxuICAgICAgRG9jdW1lbnQgPSByZXF1aXJlKCcuL2V4YW1wbGUvZG9jdW1lbnQnKSxcbiAgICAgIEVkaXRhYmxlQ29udGVudFRleHRhcmVhID0gcmVxdWlyZSgnLi9leGFtcGxlL3RleHRhcmVhL2VkaXRhYmxlQ29udGVudCcpO1xuXG5jb25zdCB7IEJvZHkgfSA9IGVhc3k7XG5cbmNsaWVudC5pbml0aWFsaXNlKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgY29uc3QgYm9keSA9IG5ldyBCb2R5KCksXG4gICAgICAgIGVkaXRhYmxlQ29udGVudCA9IGNvbnRlbnQsICAvLy9cbiAgICAgICAgZWRpdGFibGVDb250ZW50VGV4dGFyZWEgPVxuXG4gICAgICAgICAgPEVkaXRhYmxlQ29udGVudFRleHRhcmVhIG9uS2V5VXA9e2tleVVwSGFuZGxlcn0+e2VkaXRhYmxlQ29udGVudH08L0VkaXRhYmxlQ29udGVudFRleHRhcmVhPlxuXG4gICAgICAgICxcbiAgICAgICAgZG9jdW1lbnQgPSBEb2N1bWVudC5mcm9tRWRpdGFibGVDb250ZW50VGV4dGFyZWEoZWRpdGFibGVDb250ZW50VGV4dGFyZWEpO1xuXG4gIGJvZHkuYXBwZW5kKFxuXG4gICAgPHNlY3Rpb24+XG4gICAgICA8aDE+Q29uY3VyIGV4YW1wbGU8L2gxPlxuICAgICAge2VkaXRhYmxlQ29udGVudFRleHRhcmVhfVxuICAgIDwvc2VjdGlvbj5cblxuICApO1xuXG4gIGZ1bmN0aW9uIGtleVVwSGFuZGxlcigpIHtcbiAgICBjb25zdCB3b3JraW5nQ29udGVudCA9IGRvY3VtZW50LmdldFdvcmtpbmdDb250ZW50KCksXG4gICAgICAgICAgZWRpdGFibGVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWRpdGFibGVDb250ZW50KCk7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gY2xpZW50LnVwZGF0ZSh3b3JraW5nQ29udGVudCwgZWRpdGFibGVDb250ZW50LCBwZW5kaW5nT3BlcmF0aW9ucyA9PiBkb2N1bWVudC51cGRhdGUocGVuZGluZ09wZXJhdGlvbnMpKTtcblxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBkb2N1bWVudC5zeW5jaHJvbmlzZVdvcmtpbmdDb250ZW50KCk7XG4gICAgfVxuICB9XG59KTtcbiJdfQ==