"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _update = _interopRequireDefault(require("./transaction/update"));
var _initialise = _interopRequireDefault(require("./transaction/initialise"));
var _constants = require("./constants");
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function createHandler(Transaction) {
    return function(request, response, next) {
        var body = request.body;
        var json = body; ///
        var transaction = Transaction.fromJSON(json);
        json = transaction.toJSON();
        var statusCode = 200, headers = {
        }, content = JSON.stringify(json);
        headers[_constants.CONTENT_TYPE] = _constants.APPLICATION_JSON_CHARSET_UTF_8;
        response.writeHead(statusCode, headers);
        response.write(content);
        response.end();
    };
}
var updateTransactionHandler = createHandler(_update.default);
var initialiseTransactionHandler = createHandler(_initialise.default);
var _default = {
    updateTransactionHandler: updateTransactionHandler,
    initialiseTransactionHandler: initialiseTransactionHandler
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9oYW5kbGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBVcGRhdGVUcmFuc2FjdGlvbiBmcm9tIFwiLi90cmFuc2FjdGlvbi91cGRhdGVcIjtcclxuaW1wb3J0IEluaXRpYWxpc2VUcmFuc2FjdGlvbiBmcm9tIFwiLi90cmFuc2FjdGlvbi9pbml0aWFsaXNlXCI7XHJcblxyXG5pbXBvcnQgeyBDT05URU5UX1RZUEUsIEFQUExJQ0FUSU9OX0pTT05fQ0hBUlNFVF9VVEZfOCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlSGFuZGxlcihUcmFuc2FjdGlvbikge1xyXG4gIHJldHVybiBmdW5jdGlvbihyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSByZXF1ZXN0O1xyXG5cclxuICAgIGxldCBqc29uID0gYm9keTsgIC8vL1xyXG5cclxuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gVHJhbnNhY3Rpb24uZnJvbUpTT04oanNvbik7XHJcblxyXG4gICAganNvbiA9IHRyYW5zYWN0aW9uLnRvSlNPTigpO1xyXG5cclxuICAgIGNvbnN0IHN0YXR1c0NvZGUgPSAyMDAsXHJcbiAgICAgICAgICBoZWFkZXJzID0ge30sXHJcbiAgICAgICAgICBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoanNvbik7XHJcblxyXG4gICAgaGVhZGVyc1tDT05URU5UX1RZUEVdID0gQVBQTElDQVRJT05fSlNPTl9DSEFSU0VUX1VURl84O1xyXG5cclxuICAgIHJlc3BvbnNlLndyaXRlSGVhZChzdGF0dXNDb2RlLCBoZWFkZXJzKTtcclxuXHJcbiAgICByZXNwb25zZS53cml0ZShjb250ZW50KTtcclxuXHJcbiAgICByZXNwb25zZS5lbmQoKTtcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCB1cGRhdGVUcmFuc2FjdGlvbkhhbmRsZXIgPSBjcmVhdGVIYW5kbGVyKFVwZGF0ZVRyYW5zYWN0aW9uKTtcclxuY29uc3QgaW5pdGlhbGlzZVRyYW5zYWN0aW9uSGFuZGxlciA9IGNyZWF0ZUhhbmRsZXIoSW5pdGlhbGlzZVRyYW5zYWN0aW9uKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICB1cGRhdGVUcmFuc2FjdGlvbkhhbmRsZXIsXHJcbiAgaW5pdGlhbGlzZVRyYW5zYWN0aW9uSGFuZGxlclxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsVUFBWTs7Ozs7QUFFa0IsR0FBc0IsQ0FBdEIsT0FBc0I7QUFDbEIsR0FBMEIsQ0FBMUIsV0FBMEI7QUFFQyxHQUFhLENBQWIsVUFBYTs7Ozs7O1NBRWpFLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDbkIsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUN4QyxHQUFLLENBQUcsSUFBSSxHQUFLLE9BQU8sQ0FBaEIsSUFBSTtRQUVaLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFHLENBQUcsQUFBSCxFQUFHLEFBQUgsQ0FBRztRQUVyQixHQUFLLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSTtRQUU3QyxJQUFJLEdBQUcsV0FBVyxDQUFDLE1BQU07UUFFekIsR0FBSyxDQUFDLFVBQVUsR0FBRyxHQUFHLEVBQ2hCLE9BQU87V0FDUCxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJO1FBRW5DLE9BQU8sQ0FoQmtELFVBQWEsaUJBQWIsVUFBYTtRQWtCdEUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsT0FBTztRQUV0QyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU87UUFFdEIsUUFBUSxDQUFDLEdBQUc7SUFDZCxDQUFDO0FBQ0gsQ0FBQztBQUVELEdBQUssQ0FBQyx3QkFBd0IsR0FBRyxhQUFhLENBN0JoQixPQUFzQjtBQThCcEQsR0FBSyxDQUFDLDRCQUE0QixHQUFHLGFBQWEsQ0E3QmhCLFdBQTBCOztJQWdDMUQsd0JBQXdCLEVBQXhCLHdCQUF3QjtJQUN4Qiw0QkFBNEIsRUFBNUIsNEJBQTRCIn0=