"use strict";

var _update = _interopRequireDefault(require("./transaction/update"));

var _initialise = _interopRequireDefault(require("./transaction/initialise"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var updateTransactionHandler = createHandler(_update["default"]),
    initialiseTransactionHandler = createHandler(_initialise["default"]);
module.exports = {
  updateTransactionHandler: updateTransactionHandler,
  initialiseTransactionHandler: initialiseTransactionHandler
};

function createHandler(Transaction) {
  return function (request, response, next) {
    var body = request.body;
    var json = body; ///

    var transaction = Transaction.fromJSON(json);
    json = transaction.toJSON();
    var statusCode = 200,
        headers = {
      "Content-Type": "application/json; charset=utf-8"
    },
        content = JSON.stringify(json);
    response.writeHead(statusCode, headers);
    response.write(content);
    response.end();
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZXJzLmpzIl0sIm5hbWVzIjpbInVwZGF0ZVRyYW5zYWN0aW9uSGFuZGxlciIsImNyZWF0ZUhhbmRsZXIiLCJVcGRhdGVUcmFuc2FjdGlvbiIsImluaXRpYWxpc2VUcmFuc2FjdGlvbkhhbmRsZXIiLCJJbml0aWFsaXNlVHJhbnNhY3Rpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwiVHJhbnNhY3Rpb24iLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwiYm9keSIsImpzb24iLCJ0cmFuc2FjdGlvbiIsImZyb21KU09OIiwidG9KU09OIiwic3RhdHVzQ29kZSIsImhlYWRlcnMiLCJjb250ZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsIndyaXRlSGVhZCIsIndyaXRlIiwiZW5kIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFDQTs7OztBQUVBLElBQU1BLHdCQUF3QixHQUFHQyxhQUFhLENBQUNDLGtCQUFELENBQTlDO0FBQUEsSUFDTUMsNEJBQTRCLEdBQUdGLGFBQWEsQ0FBQ0csc0JBQUQsQ0FEbEQ7QUFHQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZOLEVBQUFBLHdCQUF3QixFQUF4QkEsd0JBRGU7QUFFZkcsRUFBQUEsNEJBQTRCLEVBQTVCQTtBQUZlLENBQWpCOztBQUtBLFNBQVNGLGFBQVQsQ0FBdUJNLFdBQXZCLEVBQW9DO0FBQ2xDLFNBQU8sVUFBU0MsT0FBVCxFQUFrQkMsUUFBbEIsRUFBNEJDLElBQTVCLEVBQWtDO0FBQUEsUUFDL0JDLElBRCtCLEdBQ3RCSCxPQURzQixDQUMvQkcsSUFEK0I7QUFHdkMsUUFBSUMsSUFBSSxHQUFHRCxJQUFYLENBSHVDLENBR3JCOztBQUVsQixRQUFNRSxXQUFXLEdBQUdOLFdBQVcsQ0FBQ08sUUFBWixDQUFxQkYsSUFBckIsQ0FBcEI7QUFFQUEsSUFBQUEsSUFBSSxHQUFHQyxXQUFXLENBQUNFLE1BQVosRUFBUDtBQUVBLFFBQU1DLFVBQVUsR0FBRyxHQUFuQjtBQUFBLFFBQ01DLE9BQU8sR0FBRztBQUFFLHNCQUFnQjtBQUFsQixLQURoQjtBQUFBLFFBRU1DLE9BQU8sR0FBR0MsSUFBSSxDQUFDQyxTQUFMLENBQWVSLElBQWYsQ0FGaEI7QUFJQUgsSUFBQUEsUUFBUSxDQUFDWSxTQUFULENBQW1CTCxVQUFuQixFQUErQkMsT0FBL0I7QUFFQVIsSUFBQUEsUUFBUSxDQUFDYSxLQUFULENBQWVKLE9BQWY7QUFFQVQsSUFBQUEsUUFBUSxDQUFDYyxHQUFUO0FBQ0QsR0FsQkQ7QUFtQkQiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBVcGRhdGVUcmFuc2FjdGlvbiBmcm9tIFwiLi90cmFuc2FjdGlvbi91cGRhdGVcIjtcclxuaW1wb3J0IEluaXRpYWxpc2VUcmFuc2FjdGlvbiBmcm9tIFwiLi90cmFuc2FjdGlvbi9pbml0aWFsaXNlXCI7XHJcblxyXG5jb25zdCB1cGRhdGVUcmFuc2FjdGlvbkhhbmRsZXIgPSBjcmVhdGVIYW5kbGVyKFVwZGF0ZVRyYW5zYWN0aW9uKSxcclxuICAgICAgaW5pdGlhbGlzZVRyYW5zYWN0aW9uSGFuZGxlciA9IGNyZWF0ZUhhbmRsZXIoSW5pdGlhbGlzZVRyYW5zYWN0aW9uKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHVwZGF0ZVRyYW5zYWN0aW9uSGFuZGxlcixcclxuICBpbml0aWFsaXNlVHJhbnNhY3Rpb25IYW5kbGVyXHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVIYW5kbGVyKFRyYW5zYWN0aW9uKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IHJlcXVlc3Q7XHJcblxyXG4gICAgbGV0IGpzb24gPSBib2R5OyAgLy8vXHJcblxyXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbi5mcm9tSlNPTihqc29uKTtcclxuXHJcbiAgICBqc29uID0gdHJhbnNhY3Rpb24udG9KU09OKCk7XHJcblxyXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IDIwMCxcclxuICAgICAgICAgIGhlYWRlcnMgPSB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiIH0sXHJcbiAgICAgICAgICBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoanNvbik7XHJcblxyXG4gICAgcmVzcG9uc2Uud3JpdGVIZWFkKHN0YXR1c0NvZGUsIGhlYWRlcnMpO1xyXG5cclxuICAgIHJlc3BvbnNlLndyaXRlKGNvbnRlbnQpO1xyXG5cclxuICAgIHJlc3BvbnNlLmVuZCgpO1xyXG4gIH07XHJcbn1cclxuIl19