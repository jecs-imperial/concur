"use strict";

var _insert = _interopRequireDefault(require("../operation/insert"));

var _delete = _interopRequireDefault(require("../operation/delete"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function generateOperations(workingContent, editableContent) {
  var operations = [];
  var left, right, length, string, position;

  for (left = 0; left < workingContent.length && left < editableContent.length && workingContent[left] === editableContent[left]; left++) {}

  for (right = 0; right < workingContent.length - left && right < editableContent.length - left && workingContent[workingContent.length - right - 1] === editableContent[editableContent.length - right - 1]; right++) {}

  if (left + right !== workingContent.length) {
    length = workingContent.length - left - right; ///

    position = left; ///

    var deleteOperation = _delete["default"].fromLengthAndPosition(length, position);

    operations.push(deleteOperation);
  }

  if (left + right !== editableContent.length) {
    string = editableContent.substring(left, editableContent.length - right); ///

    position = left; ///

    var insertOperation = _insert["default"].fromStringAndPosition(string, position);

    operations.push(insertOperation);
  }

  return operations;
}

module.exports = generateOperations;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYXRlLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlT3BlcmF0aW9ucyIsIndvcmtpbmdDb250ZW50IiwiZWRpdGFibGVDb250ZW50Iiwib3BlcmF0aW9ucyIsImxlZnQiLCJyaWdodCIsImxlbmd0aCIsInN0cmluZyIsInBvc2l0aW9uIiwiZGVsZXRlT3BlcmF0aW9uIiwiRGVsZXRlT3BlcmF0aW9uIiwiZnJvbUxlbmd0aEFuZFBvc2l0aW9uIiwicHVzaCIsInN1YnN0cmluZyIsImluc2VydE9wZXJhdGlvbiIsIkluc2VydE9wZXJhdGlvbiIsImZyb21TdHJpbmdBbmRQb3NpdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUNBOzs7O0FBRUEsU0FBU0Esa0JBQVQsQ0FBNEJDLGNBQTVCLEVBQTRDQyxlQUE1QyxFQUE2RDtBQUMzRCxNQUFNQyxVQUFVLEdBQUcsRUFBbkI7QUFFQSxNQUFJQyxJQUFKLEVBQVVDLEtBQVYsRUFBaUJDLE1BQWpCLEVBQXlCQyxNQUF6QixFQUFpQ0MsUUFBakM7O0FBRUEsT0FBS0osSUFBSSxHQUFHLENBQVosRUFBZ0JBLElBQUksR0FBR0gsY0FBYyxDQUFDSyxNQUF2QixJQUFtQ0YsSUFBSSxHQUFHRixlQUFlLENBQUNJLE1BQTFELElBQXNFTCxjQUFjLENBQUNHLElBQUQsQ0FBZCxLQUF5QkYsZUFBZSxDQUFDRSxJQUFELENBQTdILEVBQXNJQSxJQUFJLEVBQTFJLEVBQThJLENBQUU7O0FBRWhKLE9BQUtDLEtBQUssR0FBRyxDQUFiLEVBQWlCQSxLQUFLLEdBQUdKLGNBQWMsQ0FBQ0ssTUFBZixHQUF3QkYsSUFBakMsSUFBMkNDLEtBQUssR0FBR0gsZUFBZSxDQUFDSSxNQUFoQixHQUF5QkYsSUFBNUUsSUFBc0ZILGNBQWMsQ0FBQ0EsY0FBYyxDQUFDSyxNQUFmLEdBQXdCRCxLQUF4QixHQUFnQyxDQUFqQyxDQUFkLEtBQXNESCxlQUFlLENBQUNBLGVBQWUsQ0FBQ0ksTUFBaEIsR0FBeUJELEtBQXpCLEdBQWlDLENBQWxDLENBQTNLLEVBQWtOQSxLQUFLLEVBQXZOLEVBQTJOLENBQUU7O0FBRTdOLE1BQUlELElBQUksR0FBR0MsS0FBUCxLQUFpQkosY0FBYyxDQUFDSyxNQUFwQyxFQUE0QztBQUMxQ0EsSUFBQUEsTUFBTSxHQUFHTCxjQUFjLENBQUNLLE1BQWYsR0FBd0JGLElBQXhCLEdBQStCQyxLQUF4QyxDQUQwQyxDQUNNOztBQUNoREcsSUFBQUEsUUFBUSxHQUFHSixJQUFYLENBRjBDLENBRXpCOztBQUVqQixRQUFNSyxlQUFlLEdBQUdDLG1CQUFnQkMscUJBQWhCLENBQXNDTCxNQUF0QyxFQUE4Q0UsUUFBOUMsQ0FBeEI7O0FBRUFMLElBQUFBLFVBQVUsQ0FBQ1MsSUFBWCxDQUFnQkgsZUFBaEI7QUFDRDs7QUFFRCxNQUFJTCxJQUFJLEdBQUdDLEtBQVAsS0FBaUJILGVBQWUsQ0FBQ0ksTUFBckMsRUFBNkM7QUFDM0NDLElBQUFBLE1BQU0sR0FBR0wsZUFBZSxDQUFDVyxTQUFoQixDQUEwQlQsSUFBMUIsRUFBZ0NGLGVBQWUsQ0FBQ0ksTUFBaEIsR0FBeUJELEtBQXpELENBQVQsQ0FEMkMsQ0FDZ0M7O0FBQzNFRyxJQUFBQSxRQUFRLEdBQUdKLElBQVgsQ0FGMkMsQ0FFMUI7O0FBRWpCLFFBQU1VLGVBQWUsR0FBR0MsbUJBQWdCQyxxQkFBaEIsQ0FBc0NULE1BQXRDLEVBQThDQyxRQUE5QyxDQUF4Qjs7QUFFQUwsSUFBQUEsVUFBVSxDQUFDUyxJQUFYLENBQWdCRSxlQUFoQjtBQUNEOztBQUVELFNBQU9YLFVBQVA7QUFDRDs7QUFFRGMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCbEIsa0JBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5pbXBvcnQgSW5zZXJ0T3BlcmF0aW9uIGZyb20gXCIuLi9vcGVyYXRpb24vaW5zZXJ0XCI7XHJcbmltcG9ydCBEZWxldGVPcGVyYXRpb24gZnJvbSBcIi4uL29wZXJhdGlvbi9kZWxldGVcIjtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlT3BlcmF0aW9ucyh3b3JraW5nQ29udGVudCwgZWRpdGFibGVDb250ZW50KSB7XHJcbiAgY29uc3Qgb3BlcmF0aW9ucyA9IFtdO1xyXG4gIFxyXG4gIGxldCBsZWZ0LCByaWdodCwgbGVuZ3RoLCBzdHJpbmcsIHBvc2l0aW9uO1xyXG5cclxuICBmb3IgKGxlZnQgPSAwOyAobGVmdCA8IHdvcmtpbmdDb250ZW50Lmxlbmd0aCkgJiYgKGxlZnQgPCBlZGl0YWJsZUNvbnRlbnQubGVuZ3RoKSAmJiAod29ya2luZ0NvbnRlbnRbbGVmdF0gPT09IGVkaXRhYmxlQ29udGVudFtsZWZ0XSk7IGxlZnQrKykge31cclxuXHJcbiAgZm9yIChyaWdodCA9IDA7IChyaWdodCA8IHdvcmtpbmdDb250ZW50Lmxlbmd0aCAtIGxlZnQpICYmIChyaWdodCA8IGVkaXRhYmxlQ29udGVudC5sZW5ndGggLSBsZWZ0KSAmJiAod29ya2luZ0NvbnRlbnRbd29ya2luZ0NvbnRlbnQubGVuZ3RoIC0gcmlnaHQgLSAxXSA9PT0gZWRpdGFibGVDb250ZW50W2VkaXRhYmxlQ29udGVudC5sZW5ndGggLSByaWdodCAtIDFdKTsgcmlnaHQrKykge31cclxuXHJcbiAgaWYgKGxlZnQgKyByaWdodCAhPT0gd29ya2luZ0NvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICBsZW5ndGggPSB3b3JraW5nQ29udGVudC5sZW5ndGggLSBsZWZ0IC0gcmlnaHQ7ICAvLy9cclxuICAgIHBvc2l0aW9uID0gbGVmdDsgLy8vXHJcbiAgICBcclxuICAgIGNvbnN0IGRlbGV0ZU9wZXJhdGlvbiA9IERlbGV0ZU9wZXJhdGlvbi5mcm9tTGVuZ3RoQW5kUG9zaXRpb24obGVuZ3RoLCBwb3NpdGlvbik7XHJcblxyXG4gICAgb3BlcmF0aW9ucy5wdXNoKGRlbGV0ZU9wZXJhdGlvbik7XHJcbiAgfVxyXG5cclxuICBpZiAobGVmdCArIHJpZ2h0ICE9PSBlZGl0YWJsZUNvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICBzdHJpbmcgPSBlZGl0YWJsZUNvbnRlbnQuc3Vic3RyaW5nKGxlZnQsIGVkaXRhYmxlQ29udGVudC5sZW5ndGggLSByaWdodCk7ICAvLy9cclxuICAgIHBvc2l0aW9uID0gbGVmdDsgLy8vXHJcbiAgICBcclxuICAgIGNvbnN0IGluc2VydE9wZXJhdGlvbiA9IEluc2VydE9wZXJhdGlvbi5mcm9tU3RyaW5nQW5kUG9zaXRpb24oc3RyaW5nLCBwb3NpdGlvbik7XHJcblxyXG4gICAgb3BlcmF0aW9ucy5wdXNoKGluc2VydE9wZXJhdGlvbik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3BlcmF0aW9ucztcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnZW5lcmF0ZU9wZXJhdGlvbnM7XHJcbiJdfQ==