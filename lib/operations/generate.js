"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = generateOperations;
var _insert = _interopRequireDefault(require("../operation/insert"));
var _delete = _interopRequireDefault(require("../operation/delete"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function generateOperations(workingContent, editableContent) {
    var operations = [];
    var left, right, length, string, position;
    for(left = 0; left < workingContent.length && left < editableContent.length && workingContent[left] === editableContent[left]; left++){
    }
    for(right = 0; right < workingContent.length - left && right < editableContent.length - left && workingContent[workingContent.length - right - 1] === editableContent[editableContent.length - right - 1]; right++){
    }
    if (left + right !== workingContent.length) {
        length = workingContent.length - left - right; ///
        position = left; ///
        var deleteOperation = _delete.default.fromLengthAndPosition(length, position);
        operations.push(deleteOperation);
    }
    if (left + right !== editableContent.length) {
        string = editableContent.substring(left, editableContent.length - right); ///
        position = left; ///
        var insertOperation = _insert.default.fromStringAndPosition(string, position);
        operations.push(insertOperation);
    }
    return operations;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb25zL2dlbmVyYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuaW1wb3J0IEluc2VydE9wZXJhdGlvbiBmcm9tIFwiLi4vb3BlcmF0aW9uL2luc2VydFwiO1xyXG5pbXBvcnQgRGVsZXRlT3BlcmF0aW9uIGZyb20gXCIuLi9vcGVyYXRpb24vZGVsZXRlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5lcmF0ZU9wZXJhdGlvbnMod29ya2luZ0NvbnRlbnQsIGVkaXRhYmxlQ29udGVudCkge1xyXG4gIGNvbnN0IG9wZXJhdGlvbnMgPSBbXTtcclxuICBcclxuICBsZXQgbGVmdCwgcmlnaHQsIGxlbmd0aCwgc3RyaW5nLCBwb3NpdGlvbjtcclxuXHJcbiAgZm9yIChsZWZ0ID0gMDsgKGxlZnQgPCB3b3JraW5nQ29udGVudC5sZW5ndGgpICYmIChsZWZ0IDwgZWRpdGFibGVDb250ZW50Lmxlbmd0aCkgJiYgKHdvcmtpbmdDb250ZW50W2xlZnRdID09PSBlZGl0YWJsZUNvbnRlbnRbbGVmdF0pOyBsZWZ0KyspIHt9XHJcblxyXG4gIGZvciAocmlnaHQgPSAwOyAocmlnaHQgPCB3b3JraW5nQ29udGVudC5sZW5ndGggLSBsZWZ0KSAmJiAocmlnaHQgPCBlZGl0YWJsZUNvbnRlbnQubGVuZ3RoIC0gbGVmdCkgJiYgKHdvcmtpbmdDb250ZW50W3dvcmtpbmdDb250ZW50Lmxlbmd0aCAtIHJpZ2h0IC0gMV0gPT09IGVkaXRhYmxlQ29udGVudFtlZGl0YWJsZUNvbnRlbnQubGVuZ3RoIC0gcmlnaHQgLSAxXSk7IHJpZ2h0KyspIHt9XHJcblxyXG4gIGlmIChsZWZ0ICsgcmlnaHQgIT09IHdvcmtpbmdDb250ZW50Lmxlbmd0aCkge1xyXG4gICAgbGVuZ3RoID0gd29ya2luZ0NvbnRlbnQubGVuZ3RoIC0gbGVmdCAtIHJpZ2h0OyAgLy8vXHJcbiAgICBwb3NpdGlvbiA9IGxlZnQ7IC8vL1xyXG4gICAgXHJcbiAgICBjb25zdCBkZWxldGVPcGVyYXRpb24gPSBEZWxldGVPcGVyYXRpb24uZnJvbUxlbmd0aEFuZFBvc2l0aW9uKGxlbmd0aCwgcG9zaXRpb24pO1xyXG5cclxuICAgIG9wZXJhdGlvbnMucHVzaChkZWxldGVPcGVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGxlZnQgKyByaWdodCAhPT0gZWRpdGFibGVDb250ZW50Lmxlbmd0aCkge1xyXG4gICAgc3RyaW5nID0gZWRpdGFibGVDb250ZW50LnN1YnN0cmluZyhsZWZ0LCBlZGl0YWJsZUNvbnRlbnQubGVuZ3RoIC0gcmlnaHQpOyAgLy8vXHJcbiAgICBwb3NpdGlvbiA9IGxlZnQ7IC8vL1xyXG4gICAgXHJcbiAgICBjb25zdCBpbnNlcnRPcGVyYXRpb24gPSBJbnNlcnRPcGVyYXRpb24uZnJvbVN0cmluZ0FuZFBvc2l0aW9uKHN0cmluZywgcG9zaXRpb24pO1xyXG5cclxuICAgIG9wZXJhdGlvbnMucHVzaChpbnNlcnRPcGVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9wZXJhdGlvbnM7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFVBQVk7Ozs7a0JBS1ksa0JBQWtCO0FBSGQsR0FBcUIsQ0FBckIsT0FBcUI7QUFDckIsR0FBcUIsQ0FBckIsT0FBcUI7Ozs7OztTQUV6QixrQkFBa0IsQ0FBQyxjQUFjLEVBQUUsZUFBZSxFQUFFLENBQUM7SUFDM0UsR0FBSyxDQUFDLFVBQVU7SUFFaEIsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRO1FBRXBDLElBQUksR0FBRyxDQUFDLEVBQUcsSUFBSSxHQUFHLGNBQWMsQ0FBQyxNQUFNLElBQU0sSUFBSSxHQUFHLGVBQWUsQ0FBQyxNQUFNLElBQU0sY0FBYyxDQUFDLElBQUksTUFBTSxlQUFlLENBQUMsSUFBSSxHQUFJLElBQUksR0FBSSxDQUFDO0lBQUEsQ0FBQztRQUUzSSxLQUFLLEdBQUcsQ0FBQyxFQUFHLEtBQUssR0FBRyxjQUFjLENBQUMsTUFBTSxHQUFHLElBQUksSUFBTSxLQUFLLEdBQUcsZUFBZSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQU0sY0FBYyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxHQUFHLENBQUMsTUFBTSxlQUFlLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFJLEtBQUssR0FBSSxDQUFDO0lBQUEsQ0FBQztJQUU3TixFQUFFLEVBQUUsSUFBSSxHQUFHLEtBQUssS0FBSyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDM0MsTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEtBQUssQ0FBRyxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7UUFDbkQsUUFBUSxHQUFHLElBQUksQ0FBRSxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7UUFFcEIsR0FBSyxDQUFDLGVBQWUsR0FmRyxPQUFxQixTQWVMLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxRQUFRO1FBRTlFLFVBQVUsQ0FBQyxJQUFJLENBQUMsZUFBZTtJQUNqQyxDQUFDO0lBRUQsRUFBRSxFQUFFLElBQUksR0FBRyxLQUFLLEtBQUssZUFBZSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzVDLE1BQU0sR0FBRyxlQUFlLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxlQUFlLENBQUMsTUFBTSxHQUFHLEtBQUssRUFBSSxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7UUFDOUUsUUFBUSxHQUFHLElBQUksQ0FBRSxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7UUFFcEIsR0FBSyxDQUFDLGVBQWUsR0F6QkcsT0FBcUIsU0F5QkwscUJBQXFCLENBQUMsTUFBTSxFQUFFLFFBQVE7UUFFOUUsVUFBVSxDQUFDLElBQUksQ0FBQyxlQUFlO0lBQ2pDLENBQUM7V0FFTSxVQUFVO0FBQ25CLENBQUMifQ==