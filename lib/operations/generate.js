"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = generateOperations;
var _insert = _interopRequireDefault(require("../operation/insert"));
var _delete = _interopRequireDefault(require("../operation/delete"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function generateOperations(workingContent, editableContent) {
    var operations = [], workingContentLength = workingContent.length, editableContentLength = editableContent.length;
    var left, right;
    for(left = 0; left < workingContentLength && left < editableContentLength; left++){
        if (workingContent[left] !== editableContent[left]) {
            break;
        }
    }
    for(right = 0; right < workingContentLength - left && right < editableContentLength - left; right++){
        if (workingContent[workingContentLength - right - 1] !== editableContent[editableContentLength - right - 1]) {
            break;
        }
    }
    if (left + right !== workingContentLength) {
        var length = workingContentLength - left - right, position = left, deleteOperation = _delete.default.fromLengthAndPosition(length, position);
        operations.push(deleteOperation);
    }
    if (left + right !== editableContentLength) {
        var string = editableContent.substring(left, editableContentLength - right), position = left, insertOperation = _insert.default.fromStringAndPosition(string, position);
        operations.push(insertOperation);
    }
    return operations;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb25zL2dlbmVyYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuaW1wb3J0IEluc2VydE9wZXJhdGlvbiBmcm9tIFwiLi4vb3BlcmF0aW9uL2luc2VydFwiO1xyXG5pbXBvcnQgRGVsZXRlT3BlcmF0aW9uIGZyb20gXCIuLi9vcGVyYXRpb24vZGVsZXRlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5lcmF0ZU9wZXJhdGlvbnMod29ya2luZ0NvbnRlbnQsIGVkaXRhYmxlQ29udGVudCkge1xyXG4gIGNvbnN0IG9wZXJhdGlvbnMgPSBbXSxcclxuICAgICAgICB3b3JraW5nQ29udGVudExlbmd0aCA9IHdvcmtpbmdDb250ZW50Lmxlbmd0aCxcclxuICAgICAgICBlZGl0YWJsZUNvbnRlbnRMZW5ndGggPSBlZGl0YWJsZUNvbnRlbnQubGVuZ3RoO1xyXG4gIFxyXG4gIGxldCBsZWZ0LCByaWdodDtcclxuXHJcbiAgZm9yIChsZWZ0ID0gMDsgKGxlZnQgPCB3b3JraW5nQ29udGVudExlbmd0aCkgJiYgKGxlZnQgPCBlZGl0YWJsZUNvbnRlbnRMZW5ndGgpOyBsZWZ0KyspIHtcclxuICAgIGlmICh3b3JraW5nQ29udGVudFtsZWZ0XSAhPT0gZWRpdGFibGVDb250ZW50W2xlZnRdKSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZm9yIChyaWdodCA9IDA7IChyaWdodCA8IHdvcmtpbmdDb250ZW50TGVuZ3RoIC0gbGVmdCkgJiYgKHJpZ2h0IDwgZWRpdGFibGVDb250ZW50TGVuZ3RoIC0gbGVmdCk7IHJpZ2h0KyspIHtcclxuICAgIGlmICh3b3JraW5nQ29udGVudFt3b3JraW5nQ29udGVudExlbmd0aCAtIHJpZ2h0IC0gMV0gIT09IGVkaXRhYmxlQ29udGVudFtlZGl0YWJsZUNvbnRlbnRMZW5ndGggLSByaWdodCAtIDFdKSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGxlZnQgKyByaWdodCAhPT0gd29ya2luZ0NvbnRlbnRMZW5ndGgpIHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IHdvcmtpbmdDb250ZW50TGVuZ3RoIC0gbGVmdCAtIHJpZ2h0LCAgLy8vXHJcbiAgICAgICAgICBwb3NpdGlvbiA9IGxlZnQsIC8vL1xyXG4gICAgICAgICAgZGVsZXRlT3BlcmF0aW9uID0gRGVsZXRlT3BlcmF0aW9uLmZyb21MZW5ndGhBbmRQb3NpdGlvbihsZW5ndGgsIHBvc2l0aW9uKTtcclxuXHJcbiAgICBvcGVyYXRpb25zLnB1c2goZGVsZXRlT3BlcmF0aW9uKTtcclxuICB9XHJcblxyXG4gIGlmIChsZWZ0ICsgcmlnaHQgIT09IGVkaXRhYmxlQ29udGVudExlbmd0aCkge1xyXG4gICAgY29uc3Qgc3RyaW5nID0gZWRpdGFibGVDb250ZW50LnN1YnN0cmluZyhsZWZ0LCBlZGl0YWJsZUNvbnRlbnRMZW5ndGggLSByaWdodCksICAvLy9cclxuICAgICAgICAgIHBvc2l0aW9uID0gbGVmdCwgLy8vXHJcbiAgICAgICAgICBpbnNlcnRPcGVyYXRpb24gPSBJbnNlcnRPcGVyYXRpb24uZnJvbVN0cmluZ0FuZFBvc2l0aW9uKHN0cmluZywgcG9zaXRpb24pO1xyXG5cclxuICAgIG9wZXJhdGlvbnMucHVzaChpbnNlcnRPcGVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9wZXJhdGlvbnM7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFVBQVk7Ozs7a0JBS1ksa0JBQWtCO0FBSGQsR0FBcUIsQ0FBckIsT0FBcUI7QUFDckIsR0FBcUIsQ0FBckIsT0FBcUI7Ozs7OztTQUV6QixrQkFBa0IsQ0FBQyxjQUFjLEVBQUUsZUFBZSxFQUFFLENBQUM7SUFDM0UsR0FBSyxDQUFDLFVBQVUsT0FDVixvQkFBb0IsR0FBRyxjQUFjLENBQUMsTUFBTSxFQUM1QyxxQkFBcUIsR0FBRyxlQUFlLENBQUMsTUFBTTtJQUVwRCxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUs7UUFFVixJQUFJLEdBQUcsQ0FBQyxFQUFHLElBQUksR0FBRyxvQkFBb0IsSUFBTSxJQUFJLEdBQUcscUJBQXFCLEVBQUcsSUFBSSxHQUFJLENBQUM7UUFDdkYsRUFBRSxFQUFFLGNBQWMsQ0FBQyxJQUFJLE1BQU0sZUFBZSxDQUFDLElBQUksR0FBRyxDQUFDOztRQUVyRCxDQUFDO0lBQ0gsQ0FBQztRQUVJLEtBQUssR0FBRyxDQUFDLEVBQUcsS0FBSyxHQUFHLG9CQUFvQixHQUFHLElBQUksSUFBTSxLQUFLLEdBQUcscUJBQXFCLEdBQUcsSUFBSSxFQUFHLEtBQUssR0FBSSxDQUFDO1FBQ3pHLEVBQUUsRUFBRSxjQUFjLENBQUMsb0JBQW9CLEdBQUcsS0FBSyxHQUFHLENBQUMsTUFBTSxlQUFlLENBQUMscUJBQXFCLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDOztRQUU5RyxDQUFDO0lBQ0gsQ0FBQztJQUVELEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxLQUFLLG9CQUFvQixFQUFFLENBQUM7UUFDMUMsR0FBSyxDQUFDLE1BQU0sR0FBRyxvQkFBb0IsR0FBRyxJQUFJLEdBQUcsS0FBSyxFQUM1QyxRQUFRLEdBQUcsSUFBSSxFQUNmLGVBQWUsR0F4QkcsT0FBcUIsU0F3QkwscUJBQXFCLENBQUMsTUFBTSxFQUFFLFFBQVE7UUFFOUUsVUFBVSxDQUFDLElBQUksQ0FBQyxlQUFlO0lBQ2pDLENBQUM7SUFFRCxFQUFFLEVBQUUsSUFBSSxHQUFHLEtBQUssS0FBSyxxQkFBcUIsRUFBRSxDQUFDO1FBQzNDLEdBQUssQ0FBQyxNQUFNLEdBQUcsZUFBZSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLEdBQUcsS0FBSyxHQUN0RSxRQUFRLEdBQUcsSUFBSSxFQUNmLGVBQWUsR0FqQ0csT0FBcUIsU0FpQ0wscUJBQXFCLENBQUMsTUFBTSxFQUFFLFFBQVE7UUFFOUUsVUFBVSxDQUFDLElBQUksQ0FBQyxlQUFlO0lBQ2pDLENBQUM7V0FFTSxVQUFVO0FBQ25CLENBQUMifQ==