"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = transformOperations;
var _necessary = require("necessary");
var first = _necessary.arrayUtilities.first, tail = _necessary.arrayUtilities.tail;
function transformOperations(tau, rho) {
    if (tau.length === 0 || rho.length === 0) {
        return tau;
    }
    var tau1 = [
        first(tau)
    ], tau2 = tail(tau), rho1 = [
        first(rho)
    ], rho2 = tail(rho);
    if (tau.length > 1 && rho.length > 1) {
        return transformOperations(transformOperations(tau1, rho1), rho2).concat(transformOperations(transformOperations(tau2, transformOperations(rho1, tau1)), transformOperations(rho2, transformOperations(tau1, rho1))));
    } else if (tau.length > 1 && rho.length === 1) {
        return transformOperations(tau1, rho).concat(transformOperations(tau2, transformOperations(rho, tau1)));
    } else if (tau.length === 1 && rho.length > 1) {
        return transformOperations(transformOperations(tau, rho1), rho2);
    } else {
        tau = first(tau); ///
        rho = first(rho); ///
        return rho.transformOperation(tau);
    }
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb25zL3RyYW5zZm9ybS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xyXG5cclxuY29uc3QgeyBmaXJzdCwgdGFpbCB9ID0gYXJyYXlVdGlsaXRpZXM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2Zvcm1PcGVyYXRpb25zKHRhdSwgcmhvKSB7XHJcbiAgaWYgKCh0YXUubGVuZ3RoID09PSAwKSB8fCAocmhvLmxlbmd0aCA9PT0gMCkpIHtcclxuICAgIHJldHVybiB0YXU7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0YXUxID0gW2ZpcnN0KHRhdSldLFxyXG4gICAgICAgIHRhdTIgPSB0YWlsKHRhdSksXHJcbiAgICAgICAgcmhvMSA9IFtmaXJzdChyaG8pXSxcclxuICAgICAgICByaG8yID0gdGFpbChyaG8pO1xyXG5cclxuICBpZiAodGF1Lmxlbmd0aCA+IDEgJiYgcmhvLmxlbmd0aCA+IDEpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUxLCByaG8xKSxcclxuICAgICAgICByaG8yXHJcbiAgICAgICkuY29uY2F0KFxyXG4gICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKFxyXG4gICAgICAgICAgICB0YXUyLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHJobzEsIHRhdTEpXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhcclxuICAgICAgICAgICAgcmhvMixcclxuICAgICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUxLCByaG8xKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKCh0YXUubGVuZ3RoID4gMSkgJiYgKHJoby5sZW5ndGggPT09IDEpKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHRhdTEsIHJobykuY29uY2F0KFxyXG4gICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgICB0YXUyLFxyXG4gICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhyaG8sIHRhdTEpXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAoKHRhdS5sZW5ndGggPT09IDEpICYmIChyaG8ubGVuZ3RoID4gMSkpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUsIHJobzEpLFxyXG4gICAgICAgIHJobzJcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGF1ID0gZmlyc3QodGF1KTsgLy8vXHJcbiAgICByaG8gPSBmaXJzdChyaG8pOyAvLy9cclxuXHJcbiAgICByZXR1cm4gcmhvLnRyYW5zZm9ybU9wZXJhdGlvbih0YXUpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsVUFBWTs7OztrQkFNWSxtQkFBbUI7SUFKWixVQUFXO0lBRWxDLEtBQUssR0FGa0IsVUFBVyxnQkFFbEMsS0FBSyxFQUFFLElBQUksR0FGWSxVQUFXLGdCQUUzQixJQUFJO1NBRUssbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUc7UUFDN0MsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQU0sR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO2VBQ2xDLEdBQUc7O1FBR04sSUFBSTtRQUFJLEtBQUssQ0FBQyxHQUFHO09BQ2pCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxHQUNmLElBQUk7UUFBSSxLQUFLLENBQUMsR0FBRztPQUNqQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUc7UUFFakIsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDO2VBRWhDLG1CQUFtQixDQUNqQixtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxHQUM5QixJQUFJLEVBQ0osTUFBTSxDQUNOLG1CQUFtQixDQUNqQixtQkFBbUIsQ0FDakIsSUFBSSxFQUNKLG1CQUFtQixDQUFDLElBQUksRUFBRSxJQUFJLElBRWhDLG1CQUFtQixDQUNqQixJQUFJLEVBQ0osbUJBQW1CLENBQUMsSUFBSSxFQUFFLElBQUk7ZUFLNUIsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQU0sR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO2VBRTVDLG1CQUFtQixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsTUFBTSxDQUNuQyxtQkFBbUIsQ0FDakIsSUFBSSxFQUNKLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxJQUFJO2VBSXpCLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFNLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQztlQUU1QyxtQkFBbUIsQ0FDakIsbUJBQW1CLENBQUMsR0FBRyxFQUFFLElBQUksR0FDN0IsSUFBSTs7UUFJUixHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRyxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7UUFDckIsR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUcsQ0FBRyxBQUFILEVBQUcsQUFBSCxDQUFHO2VBRWQsR0FBRyxDQUFDLGtCQUFrQixDQUFDLEdBQUcifQ==