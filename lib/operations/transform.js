"use strict";

var _necessary = require("necessary");

var first = _necessary.arrayUtilities.first,
    tail = _necessary.arrayUtilities.tail;

function transformOperations(tau, rho) {
  if (tau.length === 0 || rho.length === 0) {
    return tau;
  }

  var tau1 = [first(tau)],
      tau2 = tail(tau),
      rho1 = [first(rho)],
      rho2 = tail(rho);

  if (tau.length > 1 && rho.length > 1) {
    return transformOperations(transformOperations(tau1, rho1), rho2).concat(transformOperations(transformOperations(tau2, transformOperations(rho1, tau1)), transformOperations(rho2, transformOperations(tau1, rho1))));
  } else if (tau.length > 1 && rho.length === 1) {
    return transformOperations(tau1, rho).concat(transformOperations(tau2, transformOperations(rho, tau1)));
  } else if (tau.length === 1 && rho.length > 1) {
    return transformOperations(transformOperations(tau, rho1), rho2);
  } else {
    tau = first(tau); ///

    rho = first(rho); ///

    return rho.transformOperation(tau);
  }
}

;
module.exports = transformOperations;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zZm9ybS5qcyJdLCJuYW1lcyI6WyJmaXJzdCIsImFycmF5VXRpbGl0aWVzIiwidGFpbCIsInRyYW5zZm9ybU9wZXJhdGlvbnMiLCJ0YXUiLCJyaG8iLCJsZW5ndGgiLCJ0YXUxIiwidGF1MiIsInJobzEiLCJyaG8yIiwiY29uY2F0IiwidHJhbnNmb3JtT3BlcmF0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0lBRVFBLEssR0FBZ0JDLHlCLENBQWhCRCxLO0lBQU9FLEksR0FBU0QseUIsQ0FBVEMsSTs7QUFFZixTQUFTQyxtQkFBVCxDQUE2QkMsR0FBN0IsRUFBa0NDLEdBQWxDLEVBQXVDO0FBQ3JDLE1BQUtELEdBQUcsQ0FBQ0UsTUFBSixLQUFlLENBQWhCLElBQXVCRCxHQUFHLENBQUNDLE1BQUosS0FBZSxDQUExQyxFQUE4QztBQUM1QyxXQUFPRixHQUFQO0FBQ0Q7O0FBRUQsTUFBTUcsSUFBSSxHQUFHLENBQUNQLEtBQUssQ0FBQ0ksR0FBRCxDQUFOLENBQWI7QUFBQSxNQUNNSSxJQUFJLEdBQUdOLElBQUksQ0FBQ0UsR0FBRCxDQURqQjtBQUFBLE1BRU1LLElBQUksR0FBRyxDQUFDVCxLQUFLLENBQUNLLEdBQUQsQ0FBTixDQUZiO0FBQUEsTUFHTUssSUFBSSxHQUFHUixJQUFJLENBQUNHLEdBQUQsQ0FIakI7O0FBS0EsTUFBSUQsR0FBRyxDQUFDRSxNQUFKLEdBQWEsQ0FBYixJQUFrQkQsR0FBRyxDQUFDQyxNQUFKLEdBQWEsQ0FBbkMsRUFBc0M7QUFDcEMsV0FDRUgsbUJBQW1CLENBQ2pCQSxtQkFBbUIsQ0FBQ0ksSUFBRCxFQUFPRSxJQUFQLENBREYsRUFFakJDLElBRmlCLENBQW5CLENBR0VDLE1BSEYsQ0FJRVIsbUJBQW1CLENBQ2pCQSxtQkFBbUIsQ0FDakJLLElBRGlCLEVBRWpCTCxtQkFBbUIsQ0FBQ00sSUFBRCxFQUFPRixJQUFQLENBRkYsQ0FERixFQUtqQkosbUJBQW1CLENBQ2pCTyxJQURpQixFQUVqQlAsbUJBQW1CLENBQUNJLElBQUQsRUFBT0UsSUFBUCxDQUZGLENBTEYsQ0FKckIsQ0FERjtBQWlCRCxHQWxCRCxNQWtCTyxJQUFLTCxHQUFHLENBQUNFLE1BQUosR0FBYSxDQUFkLElBQXFCRCxHQUFHLENBQUNDLE1BQUosS0FBZSxDQUF4QyxFQUE0QztBQUNqRCxXQUNFSCxtQkFBbUIsQ0FBQ0ksSUFBRCxFQUFPRixHQUFQLENBQW5CLENBQStCTSxNQUEvQixDQUNFUixtQkFBbUIsQ0FDakJLLElBRGlCLEVBRWpCTCxtQkFBbUIsQ0FBQ0UsR0FBRCxFQUFNRSxJQUFOLENBRkYsQ0FEckIsQ0FERjtBQVFELEdBVE0sTUFTQSxJQUFLSCxHQUFHLENBQUNFLE1BQUosS0FBZSxDQUFoQixJQUF1QkQsR0FBRyxDQUFDQyxNQUFKLEdBQWEsQ0FBeEMsRUFBNEM7QUFDakQsV0FDRUgsbUJBQW1CLENBQ2pCQSxtQkFBbUIsQ0FBQ0MsR0FBRCxFQUFNSyxJQUFOLENBREYsRUFFakJDLElBRmlCLENBRHJCO0FBTUQsR0FQTSxNQU9BO0FBQ0xOLElBQUFBLEdBQUcsR0FBR0osS0FBSyxDQUFDSSxHQUFELENBQVgsQ0FESyxDQUNhOztBQUNsQkMsSUFBQUEsR0FBRyxHQUFHTCxLQUFLLENBQUNLLEdBQUQsQ0FBWCxDQUZLLENBRWE7O0FBRWxCLFdBQU9BLEdBQUcsQ0FBQ08sa0JBQUosQ0FBdUJSLEdBQXZCLENBQVA7QUFDRDtBQUNGOztBQUFBO0FBRURTLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlgsbUJBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5pbXBvcnQgeyBhcnJheVV0aWxpdGllcyB9IGZyb20gXCJuZWNlc3NhcnlcIjtcclxuXHJcbmNvbnN0IHsgZmlyc3QsIHRhaWwgfSA9IGFycmF5VXRpbGl0aWVzO1xyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUsIHJobykge1xyXG4gIGlmICgodGF1Lmxlbmd0aCA9PT0gMCkgfHwgKHJoby5sZW5ndGggPT09IDApKSB7XHJcbiAgICByZXR1cm4gdGF1O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdGF1MSA9IFtmaXJzdCh0YXUpXSxcclxuICAgICAgICB0YXUyID0gdGFpbCh0YXUpLFxyXG4gICAgICAgIHJobzEgPSBbZmlyc3QocmhvKV0sXHJcbiAgICAgICAgcmhvMiA9IHRhaWwocmhvKTtcclxuXHJcbiAgaWYgKHRhdS5sZW5ndGggPiAxICYmIHJoby5sZW5ndGggPiAxKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKFxyXG4gICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnModGF1MSwgcmhvMSksXHJcbiAgICAgICAgcmhvMlxyXG4gICAgICApLmNvbmNhdChcclxuICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKFxyXG4gICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhcclxuICAgICAgICAgICAgdGF1MixcclxuICAgICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhyaG8xLCB0YXUxKVxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgICAgIHJobzIsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnModGF1MSwgcmhvMSlcclxuICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfSBlbHNlIGlmICgodGF1Lmxlbmd0aCA+IDEpICYmIChyaG8ubGVuZ3RoID09PSAxKSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUxLCByaG8pLmNvbmNhdChcclxuICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKFxyXG4gICAgICAgICAgdGF1MixcclxuICAgICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMocmhvLCB0YXUxKVxyXG4gICAgICAgIClcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKCh0YXUubGVuZ3RoID09PSAxKSAmJiAocmhvLmxlbmd0aCA+IDEpKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKFxyXG4gICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnModGF1LCByaG8xKSxcclxuICAgICAgICByaG8yXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRhdSA9IGZpcnN0KHRhdSk7IC8vL1xyXG4gICAgcmhvID0gZmlyc3QocmhvKTsgLy8vXHJcblxyXG4gICAgcmV0dXJuIHJoby50cmFuc2Zvcm1PcGVyYXRpb24odGF1KTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHRyYW5zZm9ybU9wZXJhdGlvbnM7XHJcbiJdfQ==