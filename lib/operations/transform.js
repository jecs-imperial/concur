"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = transformOperations;

var _necessary = require("necessary");

var first = _necessary.arrayUtilities.first,
    tail = _necessary.arrayUtilities.tail;

function transformOperations(tau, rho) {
  if (tau.length === 0 || rho.length === 0) {
    return tau;
  }

  var tau1 = [first(tau)],
      tau2 = tail(tau),
      rho1 = [first(rho)],
      rho2 = tail(rho);

  if (tau.length > 1 && rho.length > 1) {
    return transformOperations(transformOperations(tau1, rho1), rho2).concat(transformOperations(transformOperations(tau2, transformOperations(rho1, tau1)), transformOperations(rho2, transformOperations(tau1, rho1))));
  } else if (tau.length > 1 && rho.length === 1) {
    return transformOperations(tau1, rho).concat(transformOperations(tau2, transformOperations(rho, tau1)));
  } else if (tau.length === 1 && rho.length > 1) {
    return transformOperations(transformOperations(tau, rho1), rho2);
  } else {
    tau = first(tau); ///

    rho = first(rho); ///

    return rho.transformOperation(tau);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zZm9ybS5qcyJdLCJuYW1lcyI6WyJmaXJzdCIsImFycmF5VXRpbGl0aWVzIiwidGFpbCIsInRyYW5zZm9ybU9wZXJhdGlvbnMiLCJ0YXUiLCJyaG8iLCJsZW5ndGgiLCJ0YXUxIiwidGF1MiIsInJobzEiLCJyaG8yIiwiY29uY2F0IiwidHJhbnNmb3JtT3BlcmF0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztJQUVRQSxLLEdBQWdCQyx5QixDQUFoQkQsSztJQUFPRSxJLEdBQVNELHlCLENBQVRDLEk7O0FBRUEsU0FBU0MsbUJBQVQsQ0FBNkJDLEdBQTdCLEVBQWtDQyxHQUFsQyxFQUF1QztBQUNwRCxNQUFLRCxHQUFHLENBQUNFLE1BQUosS0FBZSxDQUFoQixJQUF1QkQsR0FBRyxDQUFDQyxNQUFKLEtBQWUsQ0FBMUMsRUFBOEM7QUFDNUMsV0FBT0YsR0FBUDtBQUNEOztBQUVELE1BQU1HLElBQUksR0FBRyxDQUFDUCxLQUFLLENBQUNJLEdBQUQsQ0FBTixDQUFiO0FBQUEsTUFDTUksSUFBSSxHQUFHTixJQUFJLENBQUNFLEdBQUQsQ0FEakI7QUFBQSxNQUVNSyxJQUFJLEdBQUcsQ0FBQ1QsS0FBSyxDQUFDSyxHQUFELENBQU4sQ0FGYjtBQUFBLE1BR01LLElBQUksR0FBR1IsSUFBSSxDQUFDRyxHQUFELENBSGpCOztBQUtBLE1BQUlELEdBQUcsQ0FBQ0UsTUFBSixHQUFhLENBQWIsSUFBa0JELEdBQUcsQ0FBQ0MsTUFBSixHQUFhLENBQW5DLEVBQXNDO0FBQ3BDLFdBQ0VILG1CQUFtQixDQUNqQkEsbUJBQW1CLENBQUNJLElBQUQsRUFBT0UsSUFBUCxDQURGLEVBRWpCQyxJQUZpQixDQUFuQixDQUdFQyxNQUhGLENBSUVSLG1CQUFtQixDQUNqQkEsbUJBQW1CLENBQ2pCSyxJQURpQixFQUVqQkwsbUJBQW1CLENBQUNNLElBQUQsRUFBT0YsSUFBUCxDQUZGLENBREYsRUFLakJKLG1CQUFtQixDQUNqQk8sSUFEaUIsRUFFakJQLG1CQUFtQixDQUFDSSxJQUFELEVBQU9FLElBQVAsQ0FGRixDQUxGLENBSnJCLENBREY7QUFpQkQsR0FsQkQsTUFrQk8sSUFBS0wsR0FBRyxDQUFDRSxNQUFKLEdBQWEsQ0FBZCxJQUFxQkQsR0FBRyxDQUFDQyxNQUFKLEtBQWUsQ0FBeEMsRUFBNEM7QUFDakQsV0FDRUgsbUJBQW1CLENBQUNJLElBQUQsRUFBT0YsR0FBUCxDQUFuQixDQUErQk0sTUFBL0IsQ0FDRVIsbUJBQW1CLENBQ2pCSyxJQURpQixFQUVqQkwsbUJBQW1CLENBQUNFLEdBQUQsRUFBTUUsSUFBTixDQUZGLENBRHJCLENBREY7QUFRRCxHQVRNLE1BU0EsSUFBS0gsR0FBRyxDQUFDRSxNQUFKLEtBQWUsQ0FBaEIsSUFBdUJELEdBQUcsQ0FBQ0MsTUFBSixHQUFhLENBQXhDLEVBQTRDO0FBQ2pELFdBQ0VILG1CQUFtQixDQUNqQkEsbUJBQW1CLENBQUNDLEdBQUQsRUFBTUssSUFBTixDQURGLEVBRWpCQyxJQUZpQixDQURyQjtBQU1ELEdBUE0sTUFPQTtBQUNMTixJQUFBQSxHQUFHLEdBQUdKLEtBQUssQ0FBQ0ksR0FBRCxDQUFYLENBREssQ0FDYTs7QUFDbEJDLElBQUFBLEdBQUcsR0FBR0wsS0FBSyxDQUFDSyxHQUFELENBQVgsQ0FGSyxDQUVhOztBQUVsQixXQUFPQSxHQUFHLENBQUNPLGtCQUFKLENBQXVCUixHQUF2QixDQUFQO0FBQ0Q7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuaW1wb3J0IHsgYXJyYXlVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XHJcblxyXG5jb25zdCB7IGZpcnN0LCB0YWlsIH0gPSBhcnJheVV0aWxpdGllcztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybU9wZXJhdGlvbnModGF1LCByaG8pIHtcclxuICBpZiAoKHRhdS5sZW5ndGggPT09IDApIHx8IChyaG8ubGVuZ3RoID09PSAwKSkge1xyXG4gICAgcmV0dXJuIHRhdTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRhdTEgPSBbZmlyc3QodGF1KV0sXHJcbiAgICAgICAgdGF1MiA9IHRhaWwodGF1KSxcclxuICAgICAgICByaG8xID0gW2ZpcnN0KHJobyldLFxyXG4gICAgICAgIHJobzIgPSB0YWlsKHJobyk7XHJcblxyXG4gIGlmICh0YXUubGVuZ3RoID4gMSAmJiByaG8ubGVuZ3RoID4gMSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhcclxuICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHRhdTEsIHJobzEpLFxyXG4gICAgICAgIHJobzJcclxuICAgICAgKS5jb25jYXQoXHJcbiAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhcclxuICAgICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgICAgIHRhdTIsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMocmhvMSwgdGF1MSlcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKFxyXG4gICAgICAgICAgICByaG8yLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHRhdTEsIHJobzEpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAoKHRhdS5sZW5ndGggPiAxKSAmJiAocmhvLmxlbmd0aCA9PT0gMSkpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnModGF1MSwgcmhvKS5jb25jYXQoXHJcbiAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhcclxuICAgICAgICAgIHRhdTIsXHJcbiAgICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHJobywgdGF1MSlcclxuICAgICAgICApXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfSBlbHNlIGlmICgodGF1Lmxlbmd0aCA9PT0gMSkgJiYgKHJoby5sZW5ndGggPiAxKSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhcclxuICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHRhdSwgcmhvMSksXHJcbiAgICAgICAgcmhvMlxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0YXUgPSBmaXJzdCh0YXUpOyAvLy9cclxuICAgIHJobyA9IGZpcnN0KHJobyk7IC8vL1xyXG5cclxuICAgIHJldHVybiByaG8udHJhbnNmb3JtT3BlcmF0aW9uKHRhdSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==