'use strict';

var necessary = require('necessary');

var arrayUtilities = necessary.arrayUtilities,
    first = arrayUtilities.first,
    tail = arrayUtilities.tail;

function transformOperations(tau, rho) {
  if (tau.length === 0 || rho.length === 0) {
    return tau;
  }

  var tau1 = [first(tau)],
      tau2 = tail(tau),
      rho1 = [first(rho)],
      rho2 = tail(rho);

  if (tau.length > 1 && rho.length > 1) {
    return transformOperations(transformOperations(tau1, rho1), rho2).concat(transformOperations(transformOperations(tau2, transformOperations(rho1, tau1)), transformOperations(rho2, transformOperations(tau1, rho1))));
  } else if (tau.length > 1 && rho.length === 1) {
    return transformOperations(tau1, rho).concat(transformOperations(tau2, transformOperations(rho, tau1)));
  } else if (tau.length === 1 && rho.length > 1) {
    return transformOperations(transformOperations(tau, rho1), rho2);
  } else {
    tau = first(tau); ///

    rho = first(rho); ///

    return rho.transformOperation(tau);
  }
}

;
module.exports = transformOperations;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zZm9ybS5qcyJdLCJuYW1lcyI6WyJuZWNlc3NhcnkiLCJyZXF1aXJlIiwiYXJyYXlVdGlsaXRpZXMiLCJmaXJzdCIsInRhaWwiLCJ0cmFuc2Zvcm1PcGVyYXRpb25zIiwidGF1IiwicmhvIiwibGVuZ3RoIiwidGF1MSIsInRhdTIiLCJyaG8xIiwicmhvMiIsImNvbmNhdCIsInRyYW5zZm9ybU9wZXJhdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBRU0sSUFBRUMsY0FBRixHQUFxQkYsU0FBckIsQ0FBRUUsY0FBRjtBQUFBLElBQ0VDLEtBREYsR0FDa0JELGNBRGxCLENBQ0VDLEtBREY7QUFBQSxJQUNTQyxJQURULEdBQ2tCRixjQURsQixDQUNTRSxJQURUOztBQUdOLFNBQVNDLG1CQUFULENBQTZCQyxHQUE3QixFQUFrQ0MsR0FBbEMsRUFBdUM7QUFDckMsTUFBS0QsR0FBRyxDQUFDRSxNQUFKLEtBQWUsQ0FBaEIsSUFBdUJELEdBQUcsQ0FBQ0MsTUFBSixLQUFlLENBQTFDLEVBQThDO0FBQzVDLFdBQU9GLEdBQVA7QUFDRDs7QUFFRCxNQUFNRyxJQUFJLEdBQUcsQ0FBQ04sS0FBSyxDQUFDRyxHQUFELENBQU4sQ0FBYjtBQUFBLE1BQ01JLElBQUksR0FBR04sSUFBSSxDQUFDRSxHQUFELENBRGpCO0FBQUEsTUFFTUssSUFBSSxHQUFHLENBQUNSLEtBQUssQ0FBQ0ksR0FBRCxDQUFOLENBRmI7QUFBQSxNQUdNSyxJQUFJLEdBQUdSLElBQUksQ0FBQ0csR0FBRCxDQUhqQjs7QUFLQSxNQUFJRCxHQUFHLENBQUNFLE1BQUosR0FBYSxDQUFiLElBQWtCRCxHQUFHLENBQUNDLE1BQUosR0FBYSxDQUFuQyxFQUFzQztBQUNwQyxXQUNFSCxtQkFBbUIsQ0FDakJBLG1CQUFtQixDQUFDSSxJQUFELEVBQU9FLElBQVAsQ0FERixFQUVqQkMsSUFGaUIsQ0FBbkIsQ0FHRUMsTUFIRixDQUlFUixtQkFBbUIsQ0FDakJBLG1CQUFtQixDQUNqQkssSUFEaUIsRUFFakJMLG1CQUFtQixDQUFDTSxJQUFELEVBQU9GLElBQVAsQ0FGRixDQURGLEVBS2pCSixtQkFBbUIsQ0FDakJPLElBRGlCLEVBRWpCUCxtQkFBbUIsQ0FBQ0ksSUFBRCxFQUFPRSxJQUFQLENBRkYsQ0FMRixDQUpyQixDQURGO0FBaUJELEdBbEJELE1Ba0JPLElBQUtMLEdBQUcsQ0FBQ0UsTUFBSixHQUFhLENBQWQsSUFBcUJELEdBQUcsQ0FBQ0MsTUFBSixLQUFlLENBQXhDLEVBQTRDO0FBQ2pELFdBQ0VILG1CQUFtQixDQUFDSSxJQUFELEVBQU9GLEdBQVAsQ0FBbkIsQ0FBK0JNLE1BQS9CLENBQ0VSLG1CQUFtQixDQUNqQkssSUFEaUIsRUFFakJMLG1CQUFtQixDQUFDRSxHQUFELEVBQU1FLElBQU4sQ0FGRixDQURyQixDQURGO0FBUUQsR0FUTSxNQVNBLElBQUtILEdBQUcsQ0FBQ0UsTUFBSixLQUFlLENBQWhCLElBQXVCRCxHQUFHLENBQUNDLE1BQUosR0FBYSxDQUF4QyxFQUE0QztBQUNqRCxXQUNFSCxtQkFBbUIsQ0FDakJBLG1CQUFtQixDQUFDQyxHQUFELEVBQU1LLElBQU4sQ0FERixFQUVqQkMsSUFGaUIsQ0FEckI7QUFNRCxHQVBNLE1BT0E7QUFDTE4sSUFBQUEsR0FBRyxHQUFHSCxLQUFLLENBQUNHLEdBQUQsQ0FBWCxDQURLLENBQ2E7O0FBQ2xCQyxJQUFBQSxHQUFHLEdBQUdKLEtBQUssQ0FBQ0ksR0FBRCxDQUFYLENBRkssQ0FFYTs7QUFFbEIsV0FBT0EsR0FBRyxDQUFDTyxrQkFBSixDQUF1QlIsR0FBdkIsQ0FBUDtBQUNEO0FBQ0Y7O0FBQUE7QUFFRFMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWCxtQkFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCBuZWNlc3NhcnkgPSByZXF1aXJlKCduZWNlc3NhcnknKTtcclxuXHJcbmNvbnN0IHsgYXJyYXlVdGlsaXRpZXMgfSA9IG5lY2Vzc2FyeSxcclxuICAgICAgeyBmaXJzdCwgdGFpbCB9ID0gYXJyYXlVdGlsaXRpZXM7XHJcblxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1PcGVyYXRpb25zKHRhdSwgcmhvKSB7XHJcbiAgaWYgKCh0YXUubGVuZ3RoID09PSAwKSB8fCAocmhvLmxlbmd0aCA9PT0gMCkpIHtcclxuICAgIHJldHVybiB0YXU7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0YXUxID0gW2ZpcnN0KHRhdSldLFxyXG4gICAgICAgIHRhdTIgPSB0YWlsKHRhdSksXHJcbiAgICAgICAgcmhvMSA9IFtmaXJzdChyaG8pXSxcclxuICAgICAgICByaG8yID0gdGFpbChyaG8pO1xyXG5cclxuICBpZiAodGF1Lmxlbmd0aCA+IDEgJiYgcmhvLmxlbmd0aCA+IDEpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUxLCByaG8xKSxcclxuICAgICAgICByaG8yXHJcbiAgICAgICkuY29uY2F0KFxyXG4gICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKFxyXG4gICAgICAgICAgICB0YXUyLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHJobzEsIHRhdTEpXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhcclxuICAgICAgICAgICAgcmhvMixcclxuICAgICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUxLCByaG8xKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKCh0YXUubGVuZ3RoID4gMSkgJiYgKHJoby5sZW5ndGggPT09IDEpKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0cmFuc2Zvcm1PcGVyYXRpb25zKHRhdTEsIHJobykuY29uY2F0KFxyXG4gICAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgICB0YXUyLFxyXG4gICAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyhyaG8sIHRhdTEpXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAoKHRhdS5sZW5ndGggPT09IDEpICYmIChyaG8ubGVuZ3RoID4gMSkpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRyYW5zZm9ybU9wZXJhdGlvbnMoXHJcbiAgICAgICAgdHJhbnNmb3JtT3BlcmF0aW9ucyh0YXUsIHJobzEpLFxyXG4gICAgICAgIHJobzJcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGF1ID0gZmlyc3QodGF1KTsgLy8vXHJcbiAgICByaG8gPSBmaXJzdChyaG8pOyAvLy9cclxuXHJcbiAgICByZXR1cm4gcmhvLnRyYW5zZm9ybU9wZXJhdGlvbih0YXUpO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gdHJhbnNmb3JtT3BlcmF0aW9ucztcclxuIl19