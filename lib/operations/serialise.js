'use strict';

var types = require('../types'),
    EmptyOperation = require('../operation/empty'),
    DeleteOperation = require('../operation/delete'),
    InsertOperation = require('../operation/insert');

var emptyType = types.emptyType,
    deleteType = types.deleteType,
    insertType = types.insertType;


function toJSON(operations) {
  return operations.map(function (operation) {
    return operation.toJSON();
  });
}

function fromJSON(operationsJSON) {
  var operations = operationsJSON.map(function (operationJSON) {
    var operation = void 0;

    var json = operationJSON,
        ///
    type = json["type"];

    switch (type) {
      case emptyType:
        operation = EmptyOperation.fromJSON(json);
        break;

      case deleteType:
        operation = DeleteOperation.fromJSON(json);
        break;

      case insertType:
        operation = InsertOperation.fromJSON(json);
        break;
    }

    return operation;
  });

  return operations;
}

module.exports = {
  toJSON: toJSON,
  fromJSON: fromJSON
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9vcGVyYXRpb25zL3NlcmlhbGlzZS5qcyJdLCJuYW1lcyI6WyJ0eXBlcyIsInJlcXVpcmUiLCJFbXB0eU9wZXJhdGlvbiIsIkRlbGV0ZU9wZXJhdGlvbiIsIkluc2VydE9wZXJhdGlvbiIsImVtcHR5VHlwZSIsImRlbGV0ZVR5cGUiLCJpbnNlcnRUeXBlIiwidG9KU09OIiwib3BlcmF0aW9ucyIsIm1hcCIsIm9wZXJhdGlvbiIsImZyb21KU09OIiwib3BlcmF0aW9uc0pTT04iLCJvcGVyYXRpb25KU09OIiwianNvbiIsInR5cGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxRQUFRQyxRQUFRLFVBQVIsQ0FBZDtBQUFBLElBQ01DLGlCQUFpQkQsUUFBUSxvQkFBUixDQUR2QjtBQUFBLElBRU1FLGtCQUFrQkYsUUFBUSxxQkFBUixDQUZ4QjtBQUFBLElBR01HLGtCQUFrQkgsUUFBUSxxQkFBUixDQUh4Qjs7SUFLUUksUyxHQUFzQ0wsSyxDQUF0Q0ssUztJQUFXQyxVLEdBQTJCTixLLENBQTNCTSxVO0lBQVlDLFUsR0FBZVAsSyxDQUFmTyxVOzs7QUFFL0IsU0FBU0MsTUFBVCxDQUFnQkMsVUFBaEIsRUFBNEI7QUFDMUIsU0FBT0EsV0FBV0MsR0FBWCxDQUFlLFVBQVNDLFNBQVQsRUFBb0I7QUFDeEMsV0FBT0EsVUFBVUgsTUFBVixFQUFQO0FBQ0QsR0FGTSxDQUFQO0FBR0Q7O0FBRUQsU0FBU0ksUUFBVCxDQUFrQkMsY0FBbEIsRUFBa0M7QUFDaEMsTUFBTUosYUFBYUksZUFBZUgsR0FBZixDQUFtQixVQUFTSSxhQUFULEVBQXdCO0FBQzVELFFBQUlILGtCQUFKOztBQUVBLFFBQU1JLE9BQU9ELGFBQWI7QUFBQSxRQUE0QjtBQUN0QkUsV0FBT0QsS0FBSyxNQUFMLENBRGI7O0FBR0EsWUFBUUMsSUFBUjtBQUNFLFdBQUtYLFNBQUw7QUFDRU0sb0JBQVlULGVBQWVVLFFBQWYsQ0FBd0JHLElBQXhCLENBQVo7QUFDQTs7QUFFRixXQUFLVCxVQUFMO0FBQ0VLLG9CQUFZUixnQkFBZ0JTLFFBQWhCLENBQXlCRyxJQUF6QixDQUFaO0FBQ0E7O0FBRUYsV0FBS1IsVUFBTDtBQUNFSSxvQkFBWVAsZ0JBQWdCUSxRQUFoQixDQUF5QkcsSUFBekIsQ0FBWjtBQUNBO0FBWEo7O0FBY0EsV0FBT0osU0FBUDtBQUNELEdBckJrQixDQUFuQjs7QUF1QkEsU0FBT0YsVUFBUDtBQUNEOztBQUVEUSxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZWLGdCQURlO0FBRWZJO0FBRmUsQ0FBakIiLCJmaWxlIjoic2VyaWFsaXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgdHlwZXMgPSByZXF1aXJlKCcuLi90eXBlcycpLFxyXG4gICAgICBFbXB0eU9wZXJhdGlvbiA9IHJlcXVpcmUoJy4uL29wZXJhdGlvbi9lbXB0eScpLFxyXG4gICAgICBEZWxldGVPcGVyYXRpb24gPSByZXF1aXJlKCcuLi9vcGVyYXRpb24vZGVsZXRlJyksXHJcbiAgICAgIEluc2VydE9wZXJhdGlvbiA9IHJlcXVpcmUoJy4uL29wZXJhdGlvbi9pbnNlcnQnKTtcclxuXHJcbmNvbnN0IHsgZW1wdHlUeXBlLCBkZWxldGVUeXBlLCBpbnNlcnRUeXBlIH0gPSB0eXBlcztcclxuXHJcbmZ1bmN0aW9uIHRvSlNPTihvcGVyYXRpb25zKSB7XHJcbiAgcmV0dXJuIG9wZXJhdGlvbnMubWFwKGZ1bmN0aW9uKG9wZXJhdGlvbikge1xyXG4gICAgcmV0dXJuIG9wZXJhdGlvbi50b0pTT04oKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZnJvbUpTT04ob3BlcmF0aW9uc0pTT04pIHtcclxuICBjb25zdCBvcGVyYXRpb25zID0gb3BlcmF0aW9uc0pTT04ubWFwKGZ1bmN0aW9uKG9wZXJhdGlvbkpTT04pIHtcclxuICAgIGxldCBvcGVyYXRpb247XHJcblxyXG4gICAgY29uc3QganNvbiA9IG9wZXJhdGlvbkpTT04sIC8vL1xyXG4gICAgICAgICAgdHlwZSA9IGpzb25bXCJ0eXBlXCJdO1xyXG5cclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIGVtcHR5VHlwZTpcclxuICAgICAgICBvcGVyYXRpb24gPSBFbXB0eU9wZXJhdGlvbi5mcm9tSlNPTihqc29uKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgZGVsZXRlVHlwZTpcclxuICAgICAgICBvcGVyYXRpb24gPSBEZWxldGVPcGVyYXRpb24uZnJvbUpTT04oanNvbik7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIGluc2VydFR5cGU6XHJcbiAgICAgICAgb3BlcmF0aW9uID0gSW5zZXJ0T3BlcmF0aW9uLmZyb21KU09OKGpzb24pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvcGVyYXRpb247XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBvcGVyYXRpb25zO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICB0b0pTT04sXHJcbiAgZnJvbUpTT05cclxufTtcclxuIl19