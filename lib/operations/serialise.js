'use strict';

var EmptyOperation = require('../operation/empty'),
    DeleteOperation = require('../operation/delete'),
    InsertOperation = require('../operation/insert');

function toJSON(operations) {
  return operations.map(function (operation) {
    return operation.toJSON();
  });
}

function fromJSON(operationsJSON) {
  var operations = operationsJSON.map(function (operationJSON) {
    var type = operationJSON.type,
        json = operationJSON; ///

    switch (type) {
      case EmptyOperation.type:
        return EmptyOperation.fromJSON(json);
      case DeleteOperation.type:
        return DeleteOperation.fromJSON(json);
      case InsertOperation.type:
        return InsertOperation.fromJSON(json);
    }
  });

  return operations;
}

module.exports = {
  toJSON: toJSON,
  fromJSON: fromJSON
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9vcGVyYXRpb25zL3NlcmlhbGlzZS5qcyJdLCJuYW1lcyI6WyJFbXB0eU9wZXJhdGlvbiIsInJlcXVpcmUiLCJEZWxldGVPcGVyYXRpb24iLCJJbnNlcnRPcGVyYXRpb24iLCJ0b0pTT04iLCJvcGVyYXRpb25zIiwibWFwIiwib3BlcmF0aW9uIiwiZnJvbUpTT04iLCJvcGVyYXRpb25zSlNPTiIsIm9wZXJhdGlvbkpTT04iLCJ0eXBlIiwianNvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLGlCQUFpQkMsUUFBUSxvQkFBUixDQUF2QjtBQUFBLElBQ01DLGtCQUFrQkQsUUFBUSxxQkFBUixDQUR4QjtBQUFBLElBRU1FLGtCQUFrQkYsUUFBUSxxQkFBUixDQUZ4Qjs7QUFJQSxTQUFTRyxNQUFULENBQWdCQyxVQUFoQixFQUE0QjtBQUMxQixTQUFPQSxXQUFXQyxHQUFYLENBQWUsVUFBU0MsU0FBVCxFQUFvQjtBQUN4QyxXQUFPQSxVQUFVSCxNQUFWLEVBQVA7QUFDRCxHQUZNLENBQVA7QUFHRDs7QUFFRCxTQUFTSSxRQUFULENBQWtCQyxjQUFsQixFQUFrQztBQUNoQyxNQUFNSixhQUFhSSxlQUFlSCxHQUFmLENBQW1CLFVBQVNJLGFBQVQsRUFBd0I7QUFDdEQsUUFBTUMsT0FBT0QsY0FBY0MsSUFBM0I7QUFBQSxRQUNNQyxPQUFPRixhQURiLENBRHNELENBRTFCOztBQUU1QixZQUFRQyxJQUFSO0FBQ0UsV0FBS1gsZUFBZVcsSUFBcEI7QUFDRSxlQUFPWCxlQUFlUSxRQUFmLENBQXdCSSxJQUF4QixDQUFQO0FBQ0YsV0FBS1YsZ0JBQWdCUyxJQUFyQjtBQUNFLGVBQU9ULGdCQUFnQk0sUUFBaEIsQ0FBeUJJLElBQXpCLENBQVA7QUFDRixXQUFLVCxnQkFBZ0JRLElBQXJCO0FBQ0UsZUFBT1IsZ0JBQWdCSyxRQUFoQixDQUF5QkksSUFBekIsQ0FBUDtBQU5KO0FBUUQsR0FaWSxDQUFuQjs7QUFjQSxTQUFPUCxVQUFQO0FBQ0Q7O0FBRURRLE9BQU9DLE9BQVAsR0FBaUI7QUFDZlYsZ0JBRGU7QUFFZkk7QUFGZSxDQUFqQiIsImZpbGUiOiJzZXJpYWxpc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCBFbXB0eU9wZXJhdGlvbiA9IHJlcXVpcmUoJy4uL29wZXJhdGlvbi9lbXB0eScpLFxyXG4gICAgICBEZWxldGVPcGVyYXRpb24gPSByZXF1aXJlKCcuLi9vcGVyYXRpb24vZGVsZXRlJyksXHJcbiAgICAgIEluc2VydE9wZXJhdGlvbiA9IHJlcXVpcmUoJy4uL29wZXJhdGlvbi9pbnNlcnQnKTtcclxuXHJcbmZ1bmN0aW9uIHRvSlNPTihvcGVyYXRpb25zKSB7XHJcbiAgcmV0dXJuIG9wZXJhdGlvbnMubWFwKGZ1bmN0aW9uKG9wZXJhdGlvbikge1xyXG4gICAgcmV0dXJuIG9wZXJhdGlvbi50b0pTT04oKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZnJvbUpTT04ob3BlcmF0aW9uc0pTT04pIHtcclxuICBjb25zdCBvcGVyYXRpb25zID0gb3BlcmF0aW9uc0pTT04ubWFwKGZ1bmN0aW9uKG9wZXJhdGlvbkpTT04pIHtcclxuICAgICAgICAgIGNvbnN0IHR5cGUgPSBvcGVyYXRpb25KU09OLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBqc29uID0gb3BlcmF0aW9uSlNPTjsgLy8vXHJcblxyXG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRW1wdHlPcGVyYXRpb24udHlwZTpcclxuICAgICAgICAgICAgICByZXR1cm4gRW1wdHlPcGVyYXRpb24uZnJvbUpTT04oanNvbik7XHJcbiAgICAgICAgICAgIGNhc2UgRGVsZXRlT3BlcmF0aW9uLnR5cGU6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIERlbGV0ZU9wZXJhdGlvbi5mcm9tSlNPTihqc29uKTtcclxuICAgICAgICAgICAgY2FzZSBJbnNlcnRPcGVyYXRpb24udHlwZTpcclxuICAgICAgICAgICAgICByZXR1cm4gSW5zZXJ0T3BlcmF0aW9uLmZyb21KU09OKGpzb24pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICByZXR1cm4gb3BlcmF0aW9ucztcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgdG9KU09OLFxyXG4gIGZyb21KU09OXHJcbn07XHJcbiJdfQ==